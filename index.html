<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mood Board Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #ffffff; /* Suppression du violet */
            color: #2d3748;
            padding: 10px;
            min-height: 100vh;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
        }

        .header {
            text-align: center;
            margin-bottom: 15px;
        }

        .header h1 {
            font-size: 1.6rem;
            color: #2d3748;
            margin-bottom: 5px;
            font-weight: 700;
        }

        .header p {
            color: #718096;
            font-size: 1rem;
        }

        .controls {
            margin-bottom: 20px;
        }

        .layout-selector {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* 2 colonnes */
            gap: 10px;
        }

        .layout-btn {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 10px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            font-size: 0.85rem;
            color: #4a5568;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
        }

        .layout-btn:hover, .layout-btn.active {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .layout-icon {
            width: 24px;
            height: 24px;
        }

        .moodboard-canvas {
            background: white;
            border-radius: 12px;
            min-height: 400px; /* Plus petit pour Notion */
            max-height: 500px;
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
        }

        .image-item {
            position: absolute;
            cursor: move;
            border-radius: 6px;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease;
        }

        .image-item img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 6px;
            background: white;
        }

        .image-controls {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.7rem;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .image-item:hover .image-controls {
            opacity: 1;
        }

        .actions {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .btn:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #718096;
        }

        .btn-secondary:hover {
            background: #4a5568;
        }

        .upload-section {
            border: 2px dashed #cbd5e0;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            background: #f7fafc;
            cursor: pointer;
            margin-bottom: 15px;
        }

        .upload-section:hover {
            border-color: #667eea;
            background: #edf2f7;
        }

        .upload-icon {
            width: 28px;
            height: 28px;
            margin-bottom: 8px;
        }

        .preview-images {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
            overflow-x: auto;
            padding: 5px 0;
        }

        .preview-item {
            min-width: 60px;
            height: 45px;
            border-radius: 6px;
            overflow: hidden;
            cursor: pointer;
            position: relative;
            border: 2px solid transparent;
        }

        .preview-item:hover {
            border-color: #667eea;
        }

        .remove-preview {
            position: absolute;
            top: 2px;
            right: 2px;
            background: rgba(239, 68, 68, 0.8);
            color: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.65rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé® Mood Board Generator</h1>
            <p>Cr√©ez votre planche d'inspiration couture</p>
        </div>

        <!-- Section Upload -->
        <div class="upload-section" onclick="document.getElementById('fileInput').click()" 
             ondrop="dropHandler(event)" 
             ondragover="dragOverHandler(event)" 
             ondragleave="dragLeaveHandler(event)">
            <img src="upload-icon.svg" alt="Upload" class="upload-icon">
            <div class="upload-text">Glissez vos images ici ou cliquez</div>
            <input type="file" id="fileInput" multiple accept="image/*" onchange="fileChangeHandler(this.files)">
        </div>

        <!-- Aper√ßu -->
        <div class="preview-images" id="previewImages"></div>

        <!-- Layout -->
        <div class="controls">
            <div class="layout-selector">
                <div class="layout-btn active" onclick="selectLayout(event,'pinterest')">
                    <img src="pinterest-icon.svg" class="layout-icon" alt="Pinterest">
                    Pinterest
                </div>
                <div class="layout-btn" onclick="selectLayout(event,'grid')">
                    <img src="grid-icon.svg" class="layout-icon" alt="Grid">
                    Grille
                </div>
                <div class="layout-btn" onclick="selectLayout(event,'collage')">
                    <img src="collage-icon.svg" class="layout-icon" alt="Collage">
                    Collage
                </div>
                <div class="layout-btn" onclick="selectLayout(event,'minimal')">
                    <img src="minimal-icon.svg" class="layout-icon" alt="Minimal">
                    Minimal
                </div>
            </div>
        </div>

        <!-- Canvas -->
        <div class="moodboard-canvas" id="moodboardCanvas">
            <div style="display:flex;align-items:center;justify-content:center;height:100%;color:#a0aec0;font-size:1rem;">
                Votre mood board appara√Ætra ici
            </div>
        </div>

        <!-- Actions -->
        <div class="actions">
            <button class="btn" onclick="generateMoodboard()">‚ú® G√©n√©rer</button>
            <button class="btn btn-secondary" onclick="shuffleLayout()">üîÑ M√©langer</button>
            <button class="btn btn-secondary" onclick="clearCanvas()">üóëÔ∏è Vider</button>
        </div>
    </div>

    <script>
        let uploadedImages = [];
        let currentLayout = 'pinterest';
        let moodboardItems = [];

        function dragOverHandler(e) {
            e.preventDefault();
            e.currentTarget.classList.add('dragover');
        }
        function dragLeaveHandler(e) {
            e.currentTarget.classList.remove('dragover');
        }
        function dropHandler(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
            const files = Array.from(e.dataTransfer.files).filter(f => f.type.startsWith('image/'));
            processFiles(files);
        }
        function fileChangeHandler(files) {
            processFiles(Array.from(files));
        }
        function processFiles(files) {
            files.forEach(file => {
                if (file.type.startsWith('image/') && file.size <= 5 * 1024 * 1024) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const imageData = {
                            id: Date.now() + Math.random(),
                            src: e.target.result,
                            name: file.name
                        };
                        uploadedImages.push(imageData);
                        updatePreview();
                    };
                    reader.readAsDataURL(file);
                }
            });
        }
        function updatePreview() {
            const container = document.getElementById('previewImages');
            container.innerHTML = uploadedImages.map(img => `
                <div class="preview-item">
                    <img src="${img.src}" alt="${img.name}">
                    <div class="remove-preview" onclick="removeImage('${img.id}')">√ó</div>
                </div>
            `).join('');
        }
        function removeImage(id) {
            uploadedImages = uploadedImages.filter(img => img.id != id);
            updatePreview();
        }
        function selectLayout(e, layout) {
            currentLayout = layout;
            document.querySelectorAll('.layout-btn').forEach(btn => btn.classList.remove('active'));
            e.currentTarget.classList.add('active');
        }
        function clearCanvas() {
            document.getElementById('moodboardCanvas').innerHTML = `
                <div style="display:flex;align-items:center;justify-content:center;height:100%;color:#a0aec0;font-size:1rem;">
                    Votre mood board appara√Ætra ici
                </div>
            `;
            moodboardItems = [];
        }
    </script>
</body>
</html>
